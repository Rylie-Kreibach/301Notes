HW 10 due tonight
    (no new homework until after fall break)

Exam 3 is Thursday, November 20

Jacob will have an Exam 3 review session tonight from 4:00-5:30 pm in DUE 1118

//////////////////////////////

Today:
- finish loop multiplication example
- more with loop invariants
- review for exam 3

//////////////////////////////

finish mult_loop.sc



--> what if the loop condition was "i < y" instead?

//////////////////////////////

Loop invariants.

- Summarize loop progress
- Often describe the relationship between the variables that change
- Used with the negation of loop condition to prove postconditions

//////////////////

Example: sum_evens.sc

--> make table of relationship between loop variables
--> write function contract 
--> write loop invariant 
--> mark what we could list as PREMISES in all places
--> mark what we would need to SHOW in all places 

///////////////////

in-class quiz

///////////////////

Exam 3 review.

--> Covers everything since Exam 2 (including today)
--> Closed notes, closed computers

Topics:
- Predicate logic proofs emphasizing the existential quantifier
- Recursive definitions (functions and sets)
- Proof techniques, including:
    - Mathematical induction
    - Direct (conditional) proofs
    - Contrapositive proofs 
    - Proof by contradiction
    - Proofs on sets
    --> know the formal definition of even/odd numbers
- Programming logic, including:
    - assumes and asserts
    - Subst and Algebra
    - Verifying programs with:
        - Variable assignments/expressions/updates
        - If/else statements
        - Functions (plus recursive functions and calling functions)
        - Loops
    - Function contracts (meaning of preconditions/postconditions)
    - Loop invariants

The exam will NOT involve programs that use modulus or division.


Problems will be similar in format to Homework 7-10.


When doing programming logic:
    - use a proof block to process each variable update
    - use exact assignment statements, previous claims,
        conditions, etc. as premises (using "Old" for previous
        value of variable that just changed)
    - prove exactly the precondition(s) before any function call
    - prove exactly the postcondition(s) before any function return
    - prove loop invariants hold before the loop begins
            and at end of each iteration


Now, we will work through practice exam 3



Question 1: Predicate logic

1 (E((x:T) => (D(x) & ! B(x)))) by Premise,
2 (A((x:T) => (!B(x) -> S(x)))) by Premise,

3 Let ((a: T) => SubProof(
    4 Assume (D(a) & ! B(a)),
    5 (!B(a) -> S(a)) by AllE[T](2),
    6 (!B(a)) by AndE2(4),
    7 (S(a)) by ImplyE(5,6),
    8 (E((x:T) => S(x))) by ExistsI[T](7),


    //Goal S(x)
)),
9 (E((x:T) => S(x))) by ExistsE[T](1, 3)
// E((x:T) => S(x))



Question 7?

var a == 4
var b == 2

Deduce(
    1 (a == 4) by Premise,
    2 (b == 2) by Premise,
    3 ((a-1) + b > 0) by Algebra*(1,2) //use parameters!!!!!!!!!

)

var back == function(a-1, b)

Deduce(
    //Postcondition: res[z] == 2*x - y
    1 ( back == 2*(a-1) - b) by Premise, //Post-condition (not written in here)
    2 (a == 4) by Premise,
    3 (b == 2) by Premise,
    4 (back == 4) by Algebra*(1,2,3)
)

assert (back == 4)